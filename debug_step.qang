// Debug step by step
var step1 = 5||e -> 1 + 2 + 3 + 4 + e|;
print("Step 1 (should be 15): " + step1);

var step2 = 4||d -> (5||e -> 1 + 2 + 3 + d + e|)|;
print("Step 2 (should be 15): " + step2);

// Test the issue - is variable capture working correctly?
var a = 1;
var b = 2; 
var test = 5||x -> a + b + x|;
print("Capture test (should be 8): " + test);