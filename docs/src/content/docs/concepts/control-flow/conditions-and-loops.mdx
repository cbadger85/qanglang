---
title: Conditions and Loops
description: Logical operators, conditions, while loops and for loops in QangLang
---

There are several ways to handle conditional control flow in QangLang.

## `if` and `else` Statements

`if` statements can be used to run code only when the condition is `true`.

```ql
if (true) {
  // Do something
}
```

`if` can be combined with `else` to run code when the condition is `false`.

```ql
if (false) {
  // This won't run
} else {
  // This will run.
}
```

`if` and `else` can be chained together to handle multiple conditions.

```ql
if (first_condition) {
  // Do the thing for the first condition
} else if (second_condition) {
  // Do the thing for the second condition
}
```

## Ternary and `when` Expressions

For expressions, the ternary expression can be used to handle simple if else logic.

```ql
var absolute_value = value >= 0 ? value : value * -1;
```

For more complicated conditional logic in an expression, a `when` expression can be used. For the conditional `when` expression, the left side is an expression that if evaluated as truthy, will evaluate the expression on the right.

```ql
var sign = when {
  value > 0 => "positive",
  value == 0 => "zero",
  value < 0 => "negative",
}
```

`when` expressions can also supply a value to match against. The match `when` expression checks the left side for equality with the value. If equal, then the expresson on the right will be evaluated.

```ql
fn get_hex_color(color) {
  return when (color) {
    "red" => "#FF0000",
    "green" => "#00FF00",
    "blue" => "#0000FF",
    "black" => "#000000",
    else => "#FFFFFF"
  }
}
```

The `is` operator can also be used to match against the type. If the value matches the type on the left, the expression on the right will be evaluated.

```ql
var value = when (result) {
  is Ok => result.unwrap()
  is Err => "default"
}
```

Sometimes a simple expression may not be enough. In those instances, an Immediately executed lambda can be used to wrap the statements.

```ql
var value = when (result) {
  is Ok => result.unwrap()
  is Err => () -> {
    // Do something on this line
    // Then do something on this line
  }()
}
```

## `while` Loops

A `while` loop runs its body continuously until the provided condition is false. If the condition is never true, then the body will never run.

```ql
var run_loop = true;
while (run_loop) {
  run_loop = false;
}
```

## `for` Loops

Like `while` loops, `for` loops run their body until the provided condtion is false.

```ql
var arr = array_of(3);
for (
  var i = 0; // initializer
  i < arr.length(); // condition
  i += 1 // afterthought
  ) {
  println(arr[i]); // body
}
// 0
// 1
// 2
```

#### `for` Loop Execution Order

1. The initializer, if provided, is initialized. The initializer can be either a variable declaration, or any expression of arbitrary complexity.
2. The condition is checked, if evaluated to `true`, the loop terminates.
3. The body is evaluated.
4. If provided, the afterthought is evaluated.

## `break` and `continue` in Loops

[See Return and Jumps for more information on `break` and `continue`](/concepts/control-flow/returns-and-jumps/#break-and-continue)

## Iterators

If the value can be converted to an [`Iterator`](/reference/api/iterators/iterator), the `for_each` method can be used to iterate through the value.

```ql
Range(0, 3).for_each((num) -> {
  println(num);
});
```
